<!DOCTYPE html>
<html lang="en">
    <head>          <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYZB5L2R8W"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-PYZB5L2R8W');
        </script>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="NexCore Labs provides professional digital solutions and websites for student-led projects, showcasing innovation and excellence.">
        <meta name="author" content="NexCore Labs">
        <meta name="keywords" content="NexCore Labs, web development, HTML, CSS, JavaScript, innovation, technology, creative projects, Oman, university tech teams, front-end development">
        <meta name="theme-color" content="#0a0b1c">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <!-- Facebook Meta Tags -->
        <meta property="og:url" content="https://nexcorelabs.github.io/NexCore/">
        <meta property="og:type" content="website">
        <meta property="og:title" content="NexCore Labs - Brings projects to life online">
        <meta property="og:description" content="NexCore Labs provides professional digital solutions and websites for Sultan Qaboos University student-led projects, showcasing innovation and excellence.">
        <!--
          You can generate this image URL dynamically: https://ogcdn.net/2c2c6737-47d4-4459-9969-e711eb48394c/v1/{site_text}/{title_text}/{description_text}/{image_url}/og.png
          Replace the variables in the brackets with your own values and use this URL in the image tag below this comment. Ensure values are URL encoded.
          For more information, read: https://www.opengraph.xyz/blog/how-to-implement-dynamic-open-graph-images
        -->
        <meta property="og:image" content="https://ogcdn.net/2c2c6737-47d4-4459-9969-e711eb48394c/v1/nexcorelabs.github.io/NexCore%20Labs%20-%20Brings%20projects%20to%20life%20online/NexCore%20Labs%20provides%20professional%20digital%20solutions%20and%20websites%20for%20Sultan%20Qaboos%20University%20student-led%20projects%2C%20showcasing%20innovation%20and%20excellence./https%3A%2F%2Fopengraph.b-cdn.net%2Fproduction%2Fimages%2F162620cb-4ba4-4855-ab44-70d55b31a41e.png%3Ftoken%3DYP8aqoB8UqLtu-idAa5UOGekvgo_RxcsbCQ2UzKjD8A%26height%3D675%26width%3D1200%26expires%3D33297289309/og.png">

        <!-- Twitter Meta Tags -->
        <meta name="twitter:card" content="summary_large_image">
        <meta property="twitter:domain" content="nexcorelabs.github.io">
        <meta property="twitter:url" content="https://nexcorelabs.github.io/NexCore/">
        <meta name="twitter:title" content="NexCore Labs - Brings projects to life online">
        <meta name="twitter:description" content="NexCore Labs provides professional digital solutions and websites for Sultan Qaboos University student-led projects, showcasing innovation and excellence.">
        <!--
          You can generate this image URL dynamically: https://ogcdn.net/2c2c6737-47d4-4459-9969-e711eb48394c/v1/{site_text}/{title_text}/{description_text}/{image_url}/og.png
          Replace the variables in the brackets with your own values and use this URL in the image tag below this comment. Ensure values are URL encoded.
          For more information, read: https://www.opengraph.xyz/blog/how-to-implement-dynamic-open-graph-images
        -->
        <meta name="twitter:image" content="https://ogcdn.net/2c2c6737-47d4-4459-9969-e711eb48394c/v1/nexcorelabs.github.io/NexCore%20Labs%20-%20Brings%20projects%20to%20life%20online/NexCore%20Labs%20provides%20professional%20digital%20solutions%20and%20websites%20for%20Sultan%20Qaboos%20University%20student-led%20projects%2C%20showcasing%20innovation%20and%20excellence./https%3A%2F%2Fopengraph.b-cdn.net%2Fproduction%2Fimages%2F162620cb-4ba4-4855-ab44-70d55b31a41e.png%3Ftoken%3DYP8aqoB8UqLtu-idAa5UOGekvgo_RxcsbCQ2UzKjD8A%26height%3D675%26width%3D1200%26expires%3D33297289309/og.png">

        <!-- Meta Tags Generated via https://www.opengraph.xyz -->

        <title>NexCore | Hub</title>

        <link rel="icon" href="assets/images/nexcore-icon.png" type="image/png">
        <link rel="stylesheet" href="assets/css/style.css">
        <link rel="manifest" href="manifest.json">
        <link rel="apple-touch-icon" href="assets/images/nexcore-logo.png">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.4.2/uicons-solid-rounded/css/uicons-solid-rounded.css'>
    </head>
    <body>
    <div class="background">
      <img class="logo-img" id="logoImg" src="assets/images/nexcore-logo.png" alt="NexCore Labs Logo">
      <div id="spotLight" class="spot-light"></div>
    </div>

    <header class="navbar">
      <div class="nav-container">
        <div class="logo">
          <h1 id="logo">NexCore <span>Labs</span></h1>
        </div>

        <div class="dropdown">
        <div class="core-menu" id="coreMenu" aria-label="Open menu" title="Menu">
          <span class="dot" aria-hidden="true"></span>
          <span class="dot" aria-hidden="true"></span>
          <span class="dot" aria-hidden="true"></span>
          <span class="dot" aria-hidden="true"></span>
          <span class="dot" aria-hidden="true"></span>
          <span class="dot" aria-hidden="true"></span>
        </div>
        
        <div id="myDropdown" class="dropdown-content">
            <input type="search" placeholder="What?..." id="myInput" onkeyup="filterFunction()" title="Search...">
            <a href="index.html" class="fade" id="" title="Homepage">Home</a>
            <a href="index.html#tools" class="fade" id="" title="Tools & Systems">Tools & Systems</a>
            <a href="index.html#about" class="fade" id="" title="About Us">About</a>
            <a href="index.html#team" class="fade" id="" title="Our Team">Team</a>
            <a href="index.html#contact" class="fade" id="" title="Contact Us">Contact</a>
            <a href="#signup" id="" class="magic-signup" title="Sign-Up your team">Access the Core</a>
        </div>
        </div>
      </div>
    </header>

            <div class="large-screen">
              <img class="screens" src="assets/images/large-screen.png" alt="Computers & Laptops & iPads">
              <img onclick="openMobilePreview()" id="phoneMockup" src="assets/images/iphone.png" alt="iPhone">
              <div class="details">
                  <span class="h2">Large Screen Website Under Progress...</span>
                  <p class="detail">Accessing NexCore with a screen < 600px will provide better experience.</p>
              </div>

                <p class="tap-hint">-Tap the phone to open mobile view-</p>
            </div>

      <main>
        <section class="hub-hero hero">
          <div class="container">
            <div class="hub-top">
              <h1 class="title">NexCore Hub</h1>
              <p class="lead">Where projects converge — the central hub.</p>
              <div class="hero-actions">
                <a class="btn primary" href="#signup">Access the Core</a>
                <a class="btn ghost" href="#projects">Projects</a>
              </div>
            </div>
          </div>
          <div class="bg-orbit" aria-hidden="true"></div>
        </section>

        <section id="projects" class="panel">
          <div class="container">
            <h2 class="section-title">Projects</h2>
            <p class="section-lead">Tap a card and see what teams are building.</p>
            
                <!-- 🔍 Search Bar -->
            <div class="search-bar">
              <input type="text" id="projectSearch" placeholder="Search by name or ID...">
            </div>

            <div class="projects-grid reveal" id="projects-container">
              <!-- Project cards will be loaded here dynamically -->
            </div>
          </div>
        </section>

        <!-- <section id="activity" class="panel dark">
          <div class="container">
            <h2 class="section-title">Team Activity</h2>
            <p class="section-lead">Manual updates — keep this area current.</p>

            <ul class="activity-list reveal">
              <li>✅ 2025-10-06 — Deployed Project Alpha landing.</li>
              <li>🚧 2025-10-01 — Testing CI pipeline for Beta.</li>
              <li>📚 2025-09-27 — New docs added to GitHub wiki.</li>
            </ul>
          </div>
        </section> -->

        <section id="signup" class="panel dark">
          <div class="container">
            <h2 class="section-title">Align with the Core</h2>
            <p class="section-lead">Connect your vision with the Core — where ideas evolve into impact.</p>

            <form id="signupForm" class="signup-form reveal">
              <label class="field">
                <input name="projectName" placeholder="Project Name" required>
              </label>

              <label class="field">
                <input name="leaderName" placeholder="Leader Full-Name" required>
              </label>

              <label class="field">
                <input name="leaderEmail" type="email" placeholder="Leader Email (e.g.@student.squ.edu.om)" required>
              </label>

              <label class="field">
                <textarea name="idea" rows="4" placeholder="Project Idea" required></textarea>
              </label>
              
              <label class="field checkbox-field">
                <input type="checkbox" name="websiteConfirmation" class="checkbox" id="websiteShow" onclick="showWebsiteLabel()">
                <p>Already have website?</p>
              </label>

              <label class="field checkbox-field">
                <input name="websiteURL" placeholder="https://www.example.com/" id="websiteURLLabel" style="display: none;">
              </label>
              
              <label class="field checkbox-field">
                <input type="checkbox" name="leader" class="checkbox" required>
                <p>I'm the leader of the team*</p>
              </label>

              <label class="field checkbox-field">
                <input type="checkbox" name="squAffiliated" class="checkbox" required>
                <p>Affiliated with Sultan Qaboos University*</p>
              </label>

              <div class="form-actions">
                <button type="submit" class="btn primary">Submit</button>
                <button type="reset" id="resetBtn" class="btn ghost">Reset</button>
              </div>
            </form>
          </div>
        </section>

        <div class="nexcore-sign">
          <img id="nexcoreSign" src="assets/images/nexcore-word.png" loading="lazy" alt="NexCore Labs">
        </div>
      </main>

      <footer class="site-footer">
        <div class="container footer-inner">
          <div class="f-left">
            <small title="All Rights Reserved">NexCore Labs © <span id="year"></span> |
              <a href="https://github.com/NexCoreLabs/NexCore/blob/main/LICENSE" target="_blank" class="license-link">
                <i class="fa-solid fa-scale-balanced"></i> MIT License
              </a>
            </small>
          </div>
          <div class="f-right"><small>we nailed the design :)</small></div>
        </div>
      </footer>

      <script src="assets/js/script.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
      <script>
        async function loadProjects() {
          const response = await fetch('data/projects.json');
          const data = await response.json();

          const container = document.querySelector('#projects-container');
          container.innerHTML = ''; // clear existing

          data.projects.forEach(project => {
            const card = document.createElement('div');
            card.className = 'project-card';
            card.setAttribute('data-id', `${project.id}`);
            card.setAttribute('data-name', `${project.name}`);
            card.innerHTML = `
                <a class="project-card" href="${project.link}" target="_blank" rel="noopener"><strong>${project.name} <sup><i class="fa-solid fa-arrow-up-right-from-square"></i></sup></strong><span class="id">Proj-${project.id}</span></a>
                <p>${project.description}</p>
            `;
            container.appendChild(card);
          });

          // update project count globally
          localStorage.setItem('projectCount', data.projects.length);
        }

        loadProjects();
      </script>
      <script type="module">
          // SweetAlert2 function
        function showStatus(success, message) {
          if (success) {
            Swal.fire({
              title: '✅ Submitted Successfully!',
              text: message || 'Your request has been submitted to NexCore Labs.',
              background: 'transparent',
              color: '#eaf6fb',
              confirmButtonText: 'Awesome 🚀',
              customClass: {
                popup: 'form-message-popup',
                confirmButton: 'form-message-btn'
              },
              backdrop: `
                rgba(0, 0, 0, 0.6)
                url("https://cdn.dribbble.com/users/730703/screenshots/6581243/space.gif")
                center top
                no-repeat
              `,
            })
          } else {
            Swal.fire({
              icon: 'error',
              title: 'Submission Failed',
              text: message || 'Please try again later or check your connection.',
              background: 'transparent',
              color: '#eaf6fb',
              confirmButtonText: 'Got it',
              customClass: {
                popup: 'form-message-popup',
                confirmButton: 'form-message-btn'
              }
            })
          }
        }

        import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'

        const supabaseUrl = 'https://qacupmuqeuqspfhwosfu.supabase.co'
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFhY3VwbXVxZXVxc3BmaHdvc2Z1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA4ODc0MDksImV4cCI6MjA3NjQ2MzQwOX0.wg3Csls252_yP4P0-CgYrop0W1DqtlyNO2XpbdZ5Zzk'
        const supabase = createClient(supabaseUrl, supabaseKey)

        const signupForm = document.getElementById('signupForm')

        signupForm.addEventListener('submit', async (e) => {
          e.preventDefault() // prevent default form submission

          const formData = new FormData(signupForm)

          const projectName = formData.get('projectName')
          const leaderName = formData.get('leaderName')
          const leaderEmail = formData.get('leaderEmail')
          const idea = formData.get('idea')
          const websiteConfirmation = document.querySelector('input[name="websiteConfirmation"]').checked; // ✅ boolean
          const websiteURL = formData.get('websiteURL') || null;
          

          // Insert into Supabase
          const { data, error } = await supabase
            .from('teams_sign_up_form') // your table name
            .insert([
              { project_name: projectName, leader_name: leaderName, leader_email: leaderEmail, idea, website_confirmation: websiteConfirmation, website_url: websiteURL}
            ])

          if (error) {
            showStatus(false, error.message)
          } else {
            showStatus(true)
            signupForm.reset()
          }
        })
      </script>
    </body>
</html>
<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Cookie consent stylesheet (GA will only be injected after consent) -->
        <link rel="stylesheet" href="assets/css/cookie-consent.css">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="NexCore Labs">
        <meta name="keywords" content="NexCore Labs, page development, HTML, CSS, JavaScript, innovation, technology, creative projects, Oman, university tech teams, front-end development, NexCore Labs hub, hub, projects showcase">
        <meta name="theme-color" content="#0a0b1c">
        <meta name="mobile-web-app-capable" content="yes">

        <title>NexCore Labs | Hub for Student Projects</title>
        <meta name="description" content="Where projects converge â€” the central hub.">

        <!-- Facebook Meta Tags -->
        <meta property="og:url" content="https://nexcorelabs.vercel.app/hub.html">
        <meta property="og:type" content="website">
        <meta property="og:title" content="NexCore Labs | Hub for Student Projects">
        <meta property="og:description" content="Where projects converge â€” the central hub.">
        <meta property="og:image" content="https://opengraph.b-cdn.net/production/images/af5a4481-2baa-47be-8838-5160bafa4f79.png?token=_5DjeK6KYgg8DW7Qsk5XfrtI2h_CW3YcCJlwxMJ3sEc&height=1080&width=1080&expires=33306259895">

        <!-- Twitter Meta Tags -->
        <meta name="twitter:card" content="summary_large_image">
        <meta property="twitter:domain" content="nexcorelabs.vercel.app">
        <meta property="twitter:url" content="https://nexcorelabs.vercel.app/hub.html">
        <meta name="twitter:title" content="NexCore Labs | Hub for Student Projects">
        <meta name="twitter:description" content="Where projects converge â€” the central hub.">
        <meta name="twitter:image" content="https://opengraph.b-cdn.net/production/images/af5a4481-2baa-47be-8838-5160bafa4f79.png?token=_5DjeK6KYgg8DW7Qsk5XfrtI2h_CW3YcCJlwxMJ3sEc&height=1080&width=1080&expires=33306259895">

        <!-- Meta Tags Generated via https://www.opengraph.xyz -->

        <link rel="icon" href="assets/images/nexcore-icon.png" type="image/png">
        <link rel="stylesheet" href="assets/css/style.css">
        <!-- <link rel="stylesheet" href="assets/css/unminified-css.css"> -->
        <link rel="manifest" href="manifest.json">
        <link rel="apple-touch-icon" href="assets/images/nexcore-logo.webp">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.4.2/uicons-solid-rounded/css/uicons-solid-rounded.css'>
        <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    </head>
    <body>
    <div class="background">
      <img class="logo-img" id="logoImg" src="assets/images/nexcore-logo.webp" alt="NexCore Labs Logo">
      <div id="spotLight" class="spot-light"></div>
    </div>

    <header class="navbar">
      <div class="nav-container">
        <div class="logo">
          <h1 id="logo">NexCore <span>Labs</span></h1>
        </div>

        <div class="dropdown">
        <div class="core-menu" id="coreMenu" aria-label="Open menu" title="Menu">
          <span class="dot" aria-hidden="true"></span>
          <span class="dot" aria-hidden="true"></span>
          <span class="dot" aria-hidden="true"></span>
          <span class="dot" aria-hidden="true"></span>
          <span class="dot" aria-hidden="true"></span>
          <span class="dot" aria-hidden="true"></span>
        </div>
        
     <div id="myDropdown" class="dropdown-content">
         <a href="auth.html" class="magic-signup fade" title="Sign in to your account">Access the Core</a>
         <input type="search" placeholder="What?..." id="myInput" onkeyup="filterFunction()" title="Search...">
         <a href="#" class="fade" title="NexCore Labs Hub">Hub</a>
         <a href="#projects" class="fade" title="Projects">Projects</a>
         <div class="div-menu-line"></div>
         <a href="how-to-use.html" class="fade" title="How to Use NexCore Labs" style="margin-top: 0;">How to Use</a>
         <a href="pricing.html" class="fade" title="Pricing Plans">Pricing</a>
         <div class="div-menu-line"></div>
         <a href="index.html#tools" title="Tools & Systems" style="margin-top: 0;">Tools & Systems</a>
         <a href="index.html#about" title="About NexCore Labs">About Us</a>
         <a href="index.html#team" title="NexCore Labs Team">Our Team</a>
         <a href="index.html#contact" title="Contact NexCore Labs">Contact Us</a>
         <div class="div-menu-line"></div>
         <a href="faq.html" class="fade" title="FAQ & Support" style="margin-top: 0;">FAQ</a>
         <a href="terms.html" class="fade" title="Terms of Service">Terms</a>
         <a href="privacy-policy.html" class="fade" title="Privacy Policy">Privacy Policy</a>
     </div>
        </div>
      </div>
    </header>
      <main>
        <section class="hub-hero hero">
          <div class="container">
            <div class="hub-top">
              <h1 class="title">NexCore Hub</h1>
              <p class="lead">Where projects converge â€” the central hub.</p>
              <div class="hero-actions">
                <a class="btn primary" href="auth.html">Access the Core</a>
                <a class="btn ghost" href="#projects">Projects</a>
              </div>
            </div>
          </div>
          <div class="bg-orbit" aria-hidden="true"></div>
        </section>

        <section id="projects" class="panel">
          <div class="container">
            <h2 class="section-title">Projects<span style="display:inline-block;padding:4px 10px;background:rgba(110,231,243,.15);border:1px solid rgba(110,231,243,.35);border-radius:6px;font-size:.65rem;font-weight:600;color:#6ee7f3;letter-spacing:.5px;margin-left:10px;vertical-align:middle;position:relative;top:-2px;">BETA</span></h2>
            <p class="section-lead">Tap a card and see what teams are building.</p>
            
                <!-- ðŸ” Search Bar -->
            <div class="search-bar">
              <input type="text" id="projectSearch" placeholder="Search by name or ID...">
            </div>

            <div class="projects-grid reveal" id="projects-container">
              <!-- Project cards will be loaded here dynamically -->
            </div>
          </div>
        </section>

        <!-- <section id="activity" class="panel dark">
          <div class="container">
            <h2 class="section-title">Team Activity</h2>
            <p class="section-lead">Manual updates â€” keep this area current.</p>

            <ul class="activity-list reveal">
              <li>âœ… 2025-10-06 â€” Deployed Project Alpha landing.</li>
              <li>ðŸš§ 2025-10-01 â€” Testing CI pipeline for Beta.</li>
              <li>ðŸ“š 2025-09-27 â€” New docs added to GitHub wiki.</li>
            </ul>
          </div>
        </section> -->

        <!-- TrustBox widget - Review Collector -->
        <div class="trustpilot-review-widget">
          <a href="https://www.trustpilot.com/review/nexcorelabs.vercel.app" target="_blank" rel="noopener noreferrer" class="trustpilot-widget">
            <span class="tp-text">Review us on</span>

            <span class="tp-logo">
              <img src="assets/images/trustpilot.webp" alt="Trustpilot logo"/>
              <span class="tp-name">Trustpilot</span>
            </span>
          </a>
        </div>

        <div class="nexcore-sign">
          <img id="nexcoreSign" src="assets/images/nexcore-word.webp" alt="NexCore Labs">
        </div>
      </main>

      <footer class="site-footer">
        <div class="container footer-inner">
          <div class="f-left">
            <a class="paypal" href="https://www.paypal.me/alfarismujahid" target="_blank" rel="noopener"><i class="fa-solid fa-heart" style="color: #6EE7F3;"></i> Support us on PayPal</a>
            <br>
            <small title="All Rights Reserved">NexCore Labs Â© <span id="year"></span> <span id="splitter">|</span>
              <a href="https://github.com/NexCoreLabs/NexCore/blob/main/LICENSE" target="_blank" class="license-link">
                <i class="fa-solid fa-scale-balanced"></i> MIT License
              </a>                <span class="footer-links"> | <a href="privacy-policy.html">Privacy Policy</a></span>            </small>
          </div>
          <div class="f-right footer-line"></div>
        </div>
      </footer>

      <script src="assets/js/script.js"></script>
      <script src="assets/js/supabase-client.js"></script>
      <script src="assets/js/auth-ui.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
      <script src="version.js"></script>
      <script>
        console.log(`NexCore Labs version ${APP_VERSION}`);
      </script>
      <script>
        async function loadProjects() {
          const sb = window.supabaseClient;
          const container = document.querySelector('#projects-container');
          
          try {
            // Fetch published projects from Supabase
            const { data, error } = await sb
              .from('projects')
              .select('public_id, name, slug, description')
              .eq('published', true)
              .order('created_at', { ascending: false })
              .limit(100);

            if (error) {
              console.error('Error loading projects:', error);
              container.innerHTML = '<p style="text-align: center; color: #ff7878;">Failed to load projects. Please try again later.</p>';
              return;
            }

            if (!data || data.length === 0) {
              container.innerHTML = '<p style="text-align: center; opacity: 0.7;">No projects published yet. Be the first to create one!</p>';
              localStorage.setItem('projectCount', '0');
              return;
            }

            container.innerHTML = ''; // clear existing

            data.forEach(project => {
              const card = document.createElement('div');
              card.className = 'project-card';
              card.setAttribute('data-id', project.public_id || '');
              card.setAttribute('data-name', project.name || '');
              
              const projectLink = `/project.html?slug=${encodeURIComponent(project.slug)}`;
              
              card.innerHTML = `
                <a class="project-card" href="${projectLink}" rel="noopener">
                  <strong>${project.name || 'Untitled'} <sup><i class="fa-solid fa-arrow-up-right-from-square"></i></sup></strong>
                  <span class="id">${project.public_id || ''}</span>
                </a>
                <p>${project.description || 'No description available.'}</p>
              `;
              container.appendChild(card);
            });

            // update project count globally
            localStorage.setItem('projectCount', data.length);

            // Re-initialize search functionality
            initializeSearch();
          } catch (err) {
            console.error('Unexpected error:', err);
            container.innerHTML = '<p style="text-align: center; color: #ff7878;">An unexpected error occurred.</p>';
          }
        }

        function initializeSearch() {
          const searchInput = document.getElementById('projectSearch');
          if (!searchInput) return;

          searchInput.addEventListener('input', function() {
            const query = this.value.toLowerCase().trim();
            const cards = document.querySelectorAll('.project-card');

            cards.forEach(card => {
              const name = (card.getAttribute('data-name') || '').toLowerCase();
              const id = (card.getAttribute('data-id') || '').toLowerCase();
              
              if (name.includes(query) || id.includes(query)) {
                card.style.display = '';
              } else {
                card.style.display = 'none';
              }
            });
          });
        }

        // Load projects when DOM is ready
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', loadProjects);
        } else {
          loadProjects();
        }
      </script>

  <!-- Cookie Consent Banner + Module -->
  <div id="cookie-consent-banner" class="cookie-consent" aria-hidden="true">
    <div class="cc-inner container">
      <p class="cc-text">We use cookies to improve the site. You can accept analytics cookies or reject non-essential cookies.</p>
      <div class="cc-actions">
        <button id="cc-accept" class="btn primary">Accept analytics cookies</button>
        <button id="cc-reject" class="btn ghost">Reject non-essential cookies</button>
        <a class="btn small" href="privacy-policy.html">Privacy Policy</a>
      </div>
    </div>
  </div>

  <script src="assets/js/cookie-consent.js" defer></script>
  </body>
</html>